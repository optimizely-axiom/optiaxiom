import { Alert } from "@optiaxiom/react";

# CSS Imports

All Axiom components import their own CSS files via `import` statements from within the JS code.

Depending on your bundler you might require additional configuration to enable CSS imports.

<Alert intent="information" mt="16">
  Check out the guide on [CSS Layers](/guides/css-layers) if your existing
  styles are conflicting with Axiom.
</Alert>

## Next.js

### App Router

If you are using the [App Router](https://nextjs.org/docs/app) then you do not need any additional configuration.

### Pages Router

If you are using the [Pages Router](https://nextjs.org/docs/pages) then you need to add our packages to the [transpilePackages](https://nextjs.org/docs/app/api-reference/next-config-js/transpilePackages) option:

```js filename="next.config.js"
export default {
  // ...
  transpilePackages: ["@optiaxiom/globals", "@optiaxiom/react"],
};
```

## Webpack

### Configure loaders

Follow the [Webpack Asset Management](https://webpack.js.org/guides/asset-management/) guide to configure loading CSS and fonts.

Install the required style loaders.

```sh npm2yarn
npm install -D style-loader css-loader
```

Add the appropriate loaders in your Webpack config file.

```js filename="webpack.config.js"
module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/i,
        use: ["style-loader", "css-loader"],
      },
      {
        test: /\.(woff|woff2|eot|ttf|otf)$/i,
        type: "asset/resource",
      },
    ],
  },
};
```

## Jest

### Mock CSS imports

Jest does not support CSS imports by default and needs to be manually configured to handle them.

Install the `jest-transform-stub` package.

```sh npm2yarn
npm install -D jest-transform-stub
```

Stub CSS files by transforming them into empty modules in your Jest config file.

```js filename="jest.config.js"
module.exports = {
  moduleNameMapper: {
    "\\.css$": "jest-transform-stub",
  },
};
```
