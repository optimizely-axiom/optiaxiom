import { Cards, Demo, KeyboardTable, Links, PropsTable } from "@/components";
import { Badge, Kbd } from "@optiaxiom/react";

# AlertDialog

Display a modal with important content that expects confirmation from the user.

<Links component="alert-dialog" />

## Documentation

### Usage

<Demo component="alert-dialog/usage" />

### Anatomy

```tsx
import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogBody,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogTrigger,
} from "@optiaxiom/react";

export default () => (
  <AlertDialog>
    <AlertDialogTrigger />

    <AlertDialogContent>
      <AlertDialogHeader />
      <AlertDialogBody />

      <AlertDialogFooter>
        <AlertDialogCancel />
        <AlertDialogAction />
      </AlertDialogFooter>
    </AlertDialogContent>
  </AlertDialog>
);
```

### Controlled

Use the `open` and `defaultOpen` props to toggle between controlled and uncontrolled usage. And combine it with `onOpenChange` to listen for changes to the state.

<Demo
  component="alert-dialog/controlled-usage"
  meta="/onOpenChange={setOpen}/ /open={open}/"
/>

### Managed <Badge intent="primary">ALPHA</Badge>

Use `dialogkit.create()` to create alert dialogs in managed mode. In managed mode you must omit the `AlertDialog` element and only send the `AlertDialogContent` element and its children.

<Demo component="alert-dialog/managed-usage" meta="/dialogkit.create/" />

We can also use the `await dialogkit.confirm()` shortcut method to show an alert dialog and get a boolean result based on whether the user confirms or cancels the dialog.

<Demo
  component="alert-dialog/managed-confirm-usage"
  meta="/dialogkit.confirm/"
/>

### Sizes

Use the `size` prop to change the size of the dialog box.

<Demo component="alert-dialog/size-usage" meta="/size={size}/" />

### Handling confirmation

Add an `onClick` handler to `AlertDialogAction` to perform an action on confirmation.

<Demo
  component="alert-dialog/confirmation-usage"
  meta='/onClick={() => setState("confirm")}/'
/>

### Handling async events

We can prevent closing the dialog in the action button's `onClick` handler to perform async operations.

Make sure to use the controlled props and call `event.preventDefault()` in your action to stop the modal from being dismissed.

<Demo component="alert-dialog/async-usage" />

### Customize trigger

By default we use the `Button` component for the dialog trigger which accepts all of the existing button props.

We can also completely change the trigger by using `asChild` and passing our own component.

<Demo component="alert-dialog/trigger-usage" />

### Related

<Cards items={["Alert", "Dialog"]} />

## Props

### AlertDialog

<PropsTable component="AlertDialog" />

### AlertDialogTrigger

<PropsTable component="AlertDialogTrigger" />

### AlertDialogContent

<PropsTable component="AlertDialogContent" />

### AlertDialogHeader

<PropsTable component="AlertDialogHeader" />

### AlertDialogBody

<PropsTable component="AlertDialogBody" />

### AlertDialogFooter

<PropsTable component="AlertDialogFooter" />

### AlertDialogCancel

<PropsTable component="AlertDialogCancel" />

### AlertDialogAction

<PropsTable component="AlertDialogAction" />

## Accessibility

### Keyboard interactions

<KeyboardTable
  interactions={[
    {
      keys: ["Space", "Enter"],
      description: "When focus is on `AlertDialogTrigger`, opens the dialog.",
    },
    {
      keys: "Esc",
      description: "Closes the dialog and moves focus to `AlertDialogTrigger`.",
    },
  ]}
/>

## Changelog

### 1.6.7

- Introduced **dialogkit** for easier management of dialogs.

  ```jsx
  import { AlertDialogContent } from "@optiaxiom/react";
  import { dialogkit } from "@optiaxiom/react/unstable";

  dialogkit.create(<AlertDialogContent>{/* ... */}</AlertDialogContent>);
  ```

### 0.1.0

- Added component
