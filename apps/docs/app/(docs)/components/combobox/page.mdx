import { Cards } from "@/components/cards";
import { Demo } from "@/components/demo";
import { PropsTable } from "@/components/props-table";

# Combobox

Multi-purpose combobox widget to allow selection from a dynamic set of options.

## Documentation

### Usage

<Demo component="combobox/usage" />

### Anatomy

```tsx
import { Combobox, ComboboxContent, ComboboxTrigger } from "@optiaxiom/react";

export default () => (
  <Combobox>
    <ComboboxTrigger />
    <ComboboxContent />
  </Combobox>
);
```

### Structure

Combobox works with lists of items provided via the `items` prop. The basic structure includes the main component provider, a trigger, and the content popover.

- `Combobox`
- `ComboboxTrigger`
- `ComboboxContent`

Items must be an array of objects of `ComboboxOption` type.

<Demo component="combobox/basic-usage" />

### Selection

Clicking the items will not do anything yet. For that we'll have to add the `execute` property to each item.

<Demo component="combobox/content-usage" meta="{20-22}" />

#### Single-select

Now that we can perform actions on selection, we can also store that state and show the selected states for each item using the `selected` property.

<Demo component="combobox/content-radio-usage" meta="{23}" />

#### Multi-select

We can render multi-select items by enabling the `multi` property.

<Demo component="combobox/content-checkbox-usage" meta="{27}" />

### Input

By default the input is only shown if there are any selectable items (items with a `selected` property). But we can always show the input by enabling the `defaultInputVisible` prop.

<Demo component="combobox/input-usage" meta="/defaultInputVisible/" />

#### Filtering

Combobox automatically handles filtering using a built-in fuzzy filter based on the `name` and `keywords` properties of items.

We can customize the filter behavior of `useComboboxFilter()` using the `visible` property on items.

The following example shows how we can build **creatable** comboboxes by allowing the user to add new entries on the fly.

<Demo component="combobox/creatable-usage" />

#### Async loading

We can also manually control `items` in combination with the `inputValue` and `onInputValueChange` prop to load items as the user types.

And we can toggle the `loading` prop to show a loading spinner while the data is loading (an empty state will be shown otherwise).

<Demo component="combobox/input-controlled-usage" meta="{55,56}" />

### Empty

By default combobox will display a generic empty content message if no results are found matching your query. We can customize this empty message by setting the `empty` prop on `ComboboxListbox`.

<Demo component="combobox/empty-usage" meta="{41-43}" />

### Trigger

By default we use the `Button` component for the combobox trigger which accepts all of the existing button props.

### Addons

We can add the `addon` and `description` properties to show additional content inside the items.

<Demo component="combobox/addon-usage" meta={{ "App.tsx": "{38-43}" }} />

### Virtualized

We can use virtualization to improve performance when rendering a large number of items inside the combobox. Inside `ComboboxListbox` set `children` to a render prop to enable virtualization.

<Demo component="combobox/virtualized-usage" meta="{36-38}" />

### Related

<Cards items={["DropdownMenu", "Select"]} />

## Props

### Combobox

<PropsTable component="Combobox" />

### ComboboxTrigger

<PropsTable component="ComboboxTrigger" />

### ComboboxContent

<PropsTable component="ComboboxContent" />

## Changelog

### 0.4.0

- Added component
