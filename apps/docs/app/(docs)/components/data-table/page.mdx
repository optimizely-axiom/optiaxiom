import { Cards } from "@/components/cards";
import { Demo } from "@/components/demo";
import { Links } from "@/components/links";
import { PropsTable } from "@/components/props-table";
import { Alert } from "@optiaxiom/react";

# DataTable

Easy to use table and datagrids built using [TanStack Table](https://tanstack.com/table/latest).

<Links component="data-table" />

## Documentation

### Install

Install the required peer dependencies to start using this component:

```sh npm2yarn
npm install @tanstack/react-table
```

### Usage

Use the `table` prop to pass a table instance returned from `useReactTable()` hook. At minimum make sure to include `columns`, `data`, and `getCoreRowModel` when using the hook.

<Demo component="data-table/usage" />

### Anatomy

```tsx
import { DataTable, DataTableBody, DataTableFooter } from "@optiaxiom/react";

export default () => (
  <DataTable>
    <DataTableBody />
    <DataTableFooter />
  </DataTable>
);
```

### Vertical scrolling

Headers in `DataTable` are sticky by default. Set a height on the component to allow scrolling vertically when a large number of rows are present.

<Demo component="data-table/sticky-header-usage" />

### Column pinning

Follow the [column pinning guide](https://tanstack.com/table/latest/docs/guide/column-pinning) and use the `columnPinning` option to pin columns either to the left or right side of the table.

<Demo component="data-table/sticky-column-usage" />

### Row selection

Follow the [row selection guide](https://tanstack.com/table/latest/docs/guide/row-selection) to allow selecting and highlighting rows.

Combine `Checkbox` with `Cover` to make them easier to interact with by spanning the whole cell.

<Demo component="data-table/row-selection-usage" />

### Row actions

Use the `TableAction` component to show dropdown menus within rows that are only visible when the user hovers over the row or navigates to the menu using keyboards.

<Alert intent="warning" mt="16">
  Hover over the rows to perform more actions:
</Alert>

<Demo component="data-table/row-action-usage" />

### Pagination

`DataTable` supports both client-side and server-side pagination. Follow the [pagination guide](https://tanstack.com/table/latest/docs/guide/pagination) to learn how to implement pagination with TanStack Table.

#### Client side

Simply provide the `getPaginationRowModel` and `pagination` options to use client-side pagination.

<Demo component="data-table/pagination-client-usage" />

#### Server side

To implement manual server-side pagination we can use `manualPagination` and `rowCount`. Then combine it with `onPaginationChange` and `state.pagination` to control pagination and react to changes.

<Demo component="data-table/pagination-server-usage" />

### Loading state

Set the `loading` prop to `true` to show a loading skeleton while your table data is loading.

<Demo component="data-table/loading-usage" />

### Sorting

`DataTable` supports both client-side and server-side sorting. Follow the [sorting guide](https://tanstack.com/table/latest/docs/guide/sorting) to learn how to implement sorting with TanStack Table.

#### Client side

Simply provide `getSortedRowModel` on table and `enableSorting` on each column you'd like to be sortable to use client-side sorting.

<Alert intent="warning" mt="16">
  Hover over and click the table headers to sort by columns:
</Alert>

<Demo component="data-table/sorting-client-usage" />

#### Server side

To implement manual server-side sorting we can use `manualSorting` and `enableSorting`. Then combine it with `onSortingChange` and `state.sorting` to control sorting and react to changes.

<Alert intent="warning" mt="16">
  Hover over and click the table headers to sort by columns:
</Alert>

<Demo component="data-table/sorting-server-usage" />

### Virtualized

Table automatically uses virtualized rendering when rows and columns cross a certain threshold to improve rendering performance.

Columns will be virtualized when there are more than 20 columns in a table and rows will be virtualized when there are more than 20 rows rendered or if columns are also being virtualized.

<Demo component="data-table/virtualized-usage" />

## Props

### DataTable

<PropsTable component="DataTable" />

### DataTableBody

<PropsTable component="DataTableBody" />

### DataTableFooter

<PropsTable component="DataTableFooter" />

### TableAction

<PropsTable component="TableAction" />

## Changelog

### 0.3.0

- Added component
