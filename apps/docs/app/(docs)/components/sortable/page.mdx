import { Demo, Links, PropsTable } from "@/components";
import { Alert } from "@optiaxiom/react";

# Sortable

Basic building blocks for sortable interfaces.

<Links component="sortable" />

## Documentation

### Usage

<Demo component="sortable/usage" />

### Anatomy

```tsx
import {
  Sortable,
  SortableHandle,
  SortableItem,
} from "@optiaxiom/react/unstable";

export default () => (
  <Sortable>
    <SortableItem>
      <SortableHandle />
    </SortableItem>
  </Sortable>
);
```

### Basic

`Sortable` works with a list of items provided via the `items` prop. Each item must be a unique string identifying the sortable item within the list.

Next we provide a render prop in `children` that takes in an object with the properties **id** and **index** - to render the contents of each item.

Finally we use `SortableItem` to render each sortable element inside the render function.

<Demo component="sortable/basic-usage" />

### Sorting

Notice in the previous demo items are draggable but they always revert back to their original position.

We need to use either the `onItemsChange` or `onChange` prop to store the new sorted state.

<Alert intent="warning" mt="16">
  Only use either `onItemsChange` or `onChange`. Do not use both props on the
  same component.
</Alert>

Using `onValueChange` is the simplest way to handle sorting for smaller pieces of data where we can update the sorting rank for all items in one call.

<Demo component="sortable/controlled-usage" />

Using `onChange` is necessary in cases where we're sorting a large number of items and we only want to mutate the item that is being dragged.

<Demo component="sortable/controlled-onchange-usage" />

### Drag handle

By default the whole item acts as the drag handle, but we can use the `SortableHandle` component to render separate drag handles within the items.

<Demo component="sortable/handle-usage" />

### Multiple lists

Use the `SortableList` component to swap items between lists in addition to sorting with each other.

We also need to change the `items` prop to an object where the key is the ID of the list and the value is the list of items within that list.

<Demo component="sortable/list-usage" />

### Card example

We can combine Sortable with the [Card](../card/) component to build a sortable list of cards.

<Demo component="sortable/card-usage" />

## Props

### Sortable

<PropsTable component="Sortable" />

### SortableList

<PropsTable component="SortableList" />

### SortableItem

<PropsTable component="SortableItem" />

### SortableHandle

<PropsTable component="SortableHandle" />

## Changelog

### 1.5.0

- Added component
