import { Demo, KeyboardTable, Links, PropsTable } from "@/components";
import { Alert, Kbd } from "@optiaxiom/react";

# DateInput

Input field with calendar that lets user enter dates.

<Links component="date-input" />

## Documentation

### Usage

<Demo component="date-input/usage" />

### Controlled

Use the `value` and `defaultValue` props to toggle between controlled and uncontrolled usage. And combine it with `onValueChange` / `onChange` to listen for changes to the state.

<Demo component="date-input/controlled-usage" />

### Value formats

The `value` prop accepts date strings in specific formats. For `type="date"`, use `YYYY-MM-DD` format. For `type="datetime-local"`, use `YYYY-MM-DDTHH:MM` format.

<Demo component="date-input/value-format-usage" />

### Placeholder

Use the `placeholder` prop to specify a placeholder date or time. The value format must be an Instant, PlainDate, PlainDateTime, or PlainTime.

<Demo component="date-input/placeholder-usage" />

### Error state

Enable the `error` prop to display the error state of the input field.

<Demo component="date-input/error-usage" />

### Disabled state

Enable the `disabled` prop to toggle the disabled state of the input field.

<Demo component="date-input/disabled-usage" />

### Required

By default we show a clear button when there is value but this can be removed by toggling the `required` prop.

<Demo component="date-input/required-usage" />

### Sizes

Use the `size` prop to control the size of the input.

<Demo component="date-input/size-usage" />

### Addons

Use the `addonAfter` prop to display content inside the input at the end.

<Alert intent="warning" mt="16">
  Note: `addonBefore` should not be used as it will override the calendar icon
  that opens the date picker popover. If you need to use `addonBefore`, you must
  ensure it forwards clicks to focus the input.
</Alert>

<Demo component="date-input/addon-usage" />

### Max

Use the `max` prop to specify the latest date the user can enter. Will disable all dates after the specified date.

<Demo component="date-input/max-usage" />

### Min

Use the `min` prop to specify the earliest date the user can enter. Will disable all dates prior to the specified date.

<Demo component="date-input/min-usage" />

### Date and time

Use the `type` prop to switch between `date` and `datetime-local` inputs.

<Demo component="date-input/time-usage" />

### Weekend

Use the `weekend` prop to provide one or more matchers to denote weekends on the calendar.

<Demo component="date-input/weekend-usage" />

### Holiday

Use the `holiday` prop to provide one or more matchers to denote holidays on the calendar.

<Demo component="date-input/holiday-usage" />

### Date matchers

The `holiday` and `weekend` props support various matcher types including specific dates, date ranges, date intervals, day of week, and custom functions. You can also combine multiple matchers.

<Demo component="date-input/matchers-usage" />

## Props

### DateInput

<PropsTable component="DateInput" />

## Accessibility

### Keyboard interactions

<KeyboardTable
  interactions={[
    {
      keys: "Space",
      description:
        "When focus is on `DateInput`, opens the calendar and focuses the selected day (or today's date). When focus is on a day, selects the focused day.",
    },
    {
      keys: "Enter",
      description: "Selects the focused day in the calendar.",
    },
    {
      keys: ["ArrowUp", "ArrowDown", "ArrowRight", "ArrowLeft"],
      description: "Navigate between days in the calendar.",
    },
    {
      keys: ["PageUp", "PageDown"],
      description: "Navigate between months in the calendar.",
    },
    {
      keys: [
        { key: "PageUp", modifiers: "shift" },
        { key: "PageDown", modifiers: "shift" },
      ],
      description: "Navigate between years in the calendar.",
    },
    {
      keys: "Esc",
      description:
        "Closes the calendar popover and moves focus back to `DateInput`.",
    },
  ]}
/>

## Changelog

### 1.4.0

- Moved component out of **Alpha**.

  ```jsx
  // Before
  import { DateInput } from "@optiaxiom/react/unstable";

  // After
  import { DateInput } from "@optiaxiom/react";
  ```

### 0.12.1

- Added component
